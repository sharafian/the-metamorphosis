digraph streams {
  subgraph components {
    node [ shape = box ];
    "rpc-server"
    "authorizer"
    "balance"
    "connector"
    "http-client"
    "fulfiller"
    "quoter"
  }

  "rpc-server" -> "incoming-rpc-requests" -> "authorizer";
  "authorizer" -> "incoming-authorized-send-transfer" -> "balance"
  "balance" -> "incoming-send-transfer" -> "connector";
  "incoming-fulfill-condition" -> "balance";
  "authorizer" -> "incoming-send-request" -> "quoter";
  "authorizer" -> "incoming-rpc-responses" -> "rpc-server";
  "authorizer" -> "incoming-fulfill-condition" -> "fulfiller";
  "connector" -> "outgoing-rpc-requests" -> "http-client";
  "quoter" -> "outgoing-rpc-requests";
  "http-client" -> "outgoing-rpc-responses" -> "quoter" -> "incoming-rpc-responses";
  "fulfiller" -> "outgoing-rpc-requests";

  { rank = same; "rpc-server" "incoming-rpc-requests" "authorizer" "incoming-authorized-send-transfer" "balance" "incoming-send-transfer" "connector" "outgoing-rpc-requests" "http-client" }
  { rank = source; "fulfiller" "incoming-fulfill-condition" }


}
